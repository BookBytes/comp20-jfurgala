<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
	<title>Security Evaluation</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<link rel="stylesheet" href="style.css" type="text/css"/>
</head>
<body>
    <h1>Not-Uber Security Evaluation</h1>
	<p class="boldme">Introduction</p>
	<p>The product being tested for security weaknesses is an Uber alternative web-app that allows passengers and drivers to connect. There is a front end and a back end component to test. My task is to seek out the vulnerabilities in this application.</p>

	<p class="boldme">Methodology</p>
	<p>To uncover the security lapses in the Not-Uber app, I am using curl and BurpSuite.</p>

	<p class="boldme">Abstract</p>
	<p></p>

	<p class="boldme">Issues Found</p>
		<ul>
			<li>
				<p class="ital">First Issue:</p>
				<ul>
					<li>Issue</li>
					<p>MongoDB Injection Vulnerability</p>

					<li>Location/Page</li>
					<p>vehicle.json path</p>

					<li>Severity</li>
					<p>High; this issue allows a potential hacker to steal all of the information stored in the database, including sensitive data and information about users.</p>

					<li>Description</li>
					<p>This problem can be activated by changing the URI in the browser from

						<p class="code">https://infinite-savannah-11505.herokuapp.com/vehicle.json?username=</p>

						to

						<p class="code">https://infinite-savannah-11505.herokuapp.com/vehicle.json?username[$ne]=</p>

						This change injects a MongoDB command into the server that causes all data stored, not just what is in the query string, to be returned.
					</p>

					<li>Proof</li>
					<img src="img/mongoInjection.png" alt="MongoDB injection">
					<p></p>

					<li>Resolutions</li>
					<p>Parse the query string to see that the key is a valid key, without any added MongoDB commands.</p>
				</ul>
			</li>

			<li>
				<p class="ital">Second Issue:</p>
				<ul>
					<li>Issue</li>
					<p>XSS (through username field)</p>

					<li>Location/Page</li>
					<p>Sent JS window alert through submit path, manifests upon load of the index page</p>

					<li>Severity</li>
					<p>Medium; affects all visitors of the site at the index path but does not leak information stored in the Mongo database or information about the hosting server</p>

					<li>Description</li>
					<p>This hack can be committed by using the following terminal command to send data to the submit path:</p>
					<img src="img/AlertHackTerminal.png" alt="Terminal command to initiate username field alert window hack">
					<p>The message in the alert can be anything.</p>

					<li>Proof</li>
					<img src="img/AlertHack.png" alt="Username alert hack">
					<img src="img/AlertHackAfter.png" alt="Screen after dismissing alert">
					<p></p>

					<li>Resolutions</li>
					<p>Check the username value upon receiving it for any code or script tags and eliminate them. Alternatively (easier but less adaptable) remove all special characters from any given username input. Another option is to refuse to store the data if any special characters or code are found.</p>
				</ul>
			</li>

			<li>
				<p class="ital">Third Issue:</p>
				<ul>
					<li>Issue</li>
					<p>XSS (through latitude field)</p>

					<li>Location/Page</li>
					<p>Sent JS window alert through submit path, manifests upon load of the index page (if username is passenger) or load of vehicle.json path (if username is vehicle)</p>

					<li>Severity</li>
					<p>Medium; affects all visitors of the site at the index path but does not leak information stored in the Mongo database or information about the hosting server</p>

					<li>Description</li>
					<p>This hack can be committed by using the following terminal command to send data to the submit path:</p>
					<img src="img/LatAlertHackTerminal.png" alt="Terminal command to initiate latitude field alert window hack">
					<p>The message in the alert can be anything.</p>

					<p>Another set of related sanitizing issues with the latitude field include not checking if the input is a number and if that number is within regular latitude range.</p>

					<li>Proof</li>
					<img src="img/LatAlertHack.png" alt="Latitude alert hack">
					<img src="img/LatAlertHackAfter.png" alt="Screen after dismissing alert">

					<p>Bad data form:</p>
					<img src="img/LatStringValTerminal.png" alt="Terminal command to insert a string as a latitude">
					<img src="img/LatStringVal.png" alt="Resulting page with invalid string latitude">
					<p>Data above range of latitude:</p>
					<img src="img/LatHighValTerminal.png" alt="Terminal command to insert a value above latitude range">
					<img src="img/LatHighVal.png" alt="Resulting page with a latitude value above range">
					<p>Data below range of latitude:</p>
					<img src="img/LatLowValTerminal.png" alt="Terminal command to insert a value below latitude range">
					<img src="img/LatLowVal.png" alt="Resulting page with a latitude value below range">
					<p></p>

					<li>Resolutions</li>
					<p>Check the latitude value upon receiving it to ensure that it is a valid real (aka number) before storage. If it is not, return an error and simply refuse to store the data.</p>
				</ul>
			</li>

			<li>
				<p class="ital">Fourth Issue:</p>
				<ul>
					<li>Issue</li>
					<p>XSS (through longitude field)</p>

					<li>Location/Page</li>
					<p>Sent JS window alert through submit path, manifests upon load of the index page (if username is passenger) or load of vehicle.json path (if username is vehicle)</p>

					<li>Severity</li>
					<p>Medium; affects all visitors of the site at the index path but does not leak information stored in the Mongo database or information about the hosting server</p>

					<li>Description</li>
					<p>This hack can be committed by using the following terminal command to send data to the submit path:</p>
					<img src="img/LngAlertHackTerminal.png" alt="Terminal command to initiate longitude field alert window hack">
					<p>The message in the alert can be anything.</p>

					<p>Another set of related sanitizing issues with the longitude field include not checking if the input is a number and if that number is within regular longitude range.</p>

					<li>Proof</li>
					<img src="img/LngAlertHack.png" alt="Longitude alert hack">
					<img src="img/LngAlertHackAfter.png" alt="Screen after dismissing alert">

					<p>Bad data form:</p>
					<img src="img/LngStringValTerminal.png" alt="Terminal command to insert a string as a longitude">
					<img src="img/LngStringVal.png" alt="Resulting page with invalid string longitude">
					<p>Data above range of longitude:</p>
					<img src="img/LngHighValTerminal.png" alt="Terminal command to insert a value above longitude range">
					<img src="img/LngHighVal.png" alt="Resulting page with a longitude value above range">
					<p>Data below range of longitude:</p>
					<img src="img/LngLowValTerminal.png" alt="Terminal command to insert a value below longitude range">
					<img src="img/LngLowVal.png" alt="Resulting page with a longitude value below range">
					<p></p>

					<li>Resolutions</li>
					<p>Check the longitude value upon receiving it to ensure that it is a valid real (aka number) before storage. If it is not, return an error and simply refuse to store the data.</p>
				</ul>
			</li>

			<li>
				<p class="ital">Fifth Issue:</p>
				<ul>
					<li>Issue</li>
					<p></p>

					<li>Location/Page</li>
					<p></p>

					<li>Severity</li>
					<p></p>

					<li>Description</li>
					<p></p>

					<li>Proof</li>
					<img src="">
					<p></p>

					<li>Resolutions</li>
					<p></p>
				</ul>
			</li>

			<li>
				<p class="ital">Sixth Issue:</p>
				<ul>
					<li>Issue</li>
					<p></p>

					<li>Location/Page</li>
					<p></p>

					<li>Severity</li>
					<p></p>

					<li>Description</li>
					<p></p>

					<li>Proof</li>
					<img src="">
					<p></p>

					<li>Resolutions</li>
					<p></p>
				</ul>
			</li>
		</ul>

	<p class="boldme">Conclusion</p>


	<p class="boldme">References</p>

	<p>Ideas - redirect user; send extra param in submit, send less params in submit, change css, inject image/content; add infinite recursion loop that prevents page from loading; refirect page upon load; add image to page; store image in db; asst 2 side</p>
</body>
</html>